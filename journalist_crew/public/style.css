/* public/style.css */

/* --- 1. COLOR VARIABLES --- */
:root {
    /* DARK MODE DEFAULTS */
    --bg-app: #222831;
    --bg-paper: #393E46;
    --text-primary: #DFD0B8; /* Beige Text */
    --btn-bg: #948979;
    --btn-text: #222831;
}

/* Light theme is now handled by Chainlit's default theming */
/* body[data-theme='light'], :root[data-theme='light'] {
    --bg-app: #FFFFFF !important;      /* Pure White */
    /* --bg-paper: #F5F5F5 !important;    Light Gray */
    /* --text-primary: #000000 !important; Pure Black */
    /* --btn-bg: #2196F3 !important;      Bright Blue Button */
    /* --btn-text: #FFFFFF !important;    White Text */
/* } */

/* --- 2. GLOBAL BACKGROUNDS --- */
body, .MuiPaper-root, .cl-app-wrapper, header, .cl-chat-input {
    background-color: var(--bg-app) !important;
    color: var(--text-primary) !important;
}

/* --- 3. THE "INVISIBLE TEXT" FIX (General) --- */
/* Force every text element to use our variable */
.prose, .cl-message-content, p, h1, h2, h3, h4, li, span, strong, em, div {
    color: var(--text-primary) !important;
}

/* !!! NEW SECTION: EMERGENCY LIGHT MODE FIX !!! */
/* This forces black text explicitly when in light mode, ignoring variables */
[data-theme='light'] .prose, 
[data-theme='light'] .cl-message-content, 
[data-theme='light'] p, 
[data-theme='light'] h1, 
[data-theme='light'] h2, 
[data-theme='light'] h3, 
[data-theme='light'] h4, 
[data-theme='light'] li, 
[data-theme='light'] span, 
[data-theme='light'] strong, 
[data-theme='light'] em, 
[data-theme='light'] div {
    color: #000000 !important;
}

/* Fix Markdown Backgrounds */
.cl-message-content {
    background-color: transparent !important;
}

/* --- 4. THE "MISSING BUTTON" FIX --- */
/* Standard message-attached actions */
.cl-message-actions button {
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: relative !important;
    z-index: 10 !important;
    
    background-color: var(--btn-bg) !important;
    color: var(--btn-text) !important;
    
    font-size: 1.1rem !important;
    font-weight: bold !important;
    padding: 12px 24px !important;
    border-radius: 8px !important;
    margin-top: 15px !important;
    border: 2px solid var(--text-primary) !important;
    cursor: pointer !important;
    
    width: 100% !important;
    max-width: 300px !important;
}

/* AskActionMessage / card-style actions (Chainlit uses MUI under the hood) */
.MuiCardActions-root button,
.cl-action-buttons button {
    display: inline-flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: relative !important;
    z-index: 10 !important;

    background-color: var(--btn-bg) !important;
    color: var(--btn-text) !important;

    font-size: 1.1rem !important;
    font-weight: bold !important;
    padding: 12px 24px !important;
    border-radius: 8px !important;
    margin-top: 8px !important;
    border: 2px solid var(--text-primary) !important;
    cursor: pointer !important;
}

/* Specific fix for Button borders in Light mode */
[data-theme='light'] .cl-message-actions button {
    border: 2px solid #000000 !important;
}

.cl-message-actions button:hover {
    transform: scale(1.02);
    filter: brightness(1.2);
}

/* --- 5. TABLE FIXES --- */
table {
    background-color: var(--bg-paper) !important;
    border: 1px solid var(--text-primary) !important;
}
/* Light mode table fix */
[data-theme='light'] table {
    border: 1px solid #000000 !important;
}

th {
    background-color: var(--btn-bg) !important;
    color: var(--btn-text) !important;
}
td {
    border: 1px solid var(--text-primary) !important;
    color: var(--text-primary) !important;
}
/* Light mode table cell fix */
[data-theme='light'] td {
    border: 1px solid #000000 !important;
    color: #000000 !important;
}

/* --- 6. WIDTH FIX --- */
.MuiContainer-root {
    max-width: 98vw !important;
}
.prose {
    max-width: 100% !important;
}